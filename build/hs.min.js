!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.hs=t():e.hs=t()}(this,(()=>(()=>{var e={508:function(e){var t;t=()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.r(t),e.d(t,{$:()=>l,EMPTY_CHAIN:()=>o,clearLeftRecursion:()=>m,combineLikeTerms:()=>h,isNotIntersect:()=>S,makeFirstSet:()=>d,makeFollowSet:()=>v,makeLL1:()=>B,makePredictSet:()=>T,makeSelectSet:()=>E,makeUnionFirstSet:()=>y,splitGrammars:()=>f,toGrammars:()=>p});var o=null,s="|",l="$";function u(e,t){return new Set([].concat(i(e),i(t)))}function c(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function f(e){for(var t=[],n=new Map,r=0;r<e.length;++r){var i=a(e[r].split("->"),2),s=i[0],l=i[1];if(!l||!l.trim())throw new Error("Grammar is missing the right side");var u=!0;n.has(s)||(u=!1,n.set(s,{left:null,right:[]}));var f=n.get(s);f.left=s.trim();var p=[],h="";l+=" ";for(var m=0;m<l.length;++m){var d=l[m];c(d)?("null"===h?p.push(o):h&&p.push(h),h=""):"|"===d?(f.right.push(p),p=[],h=""):h+=d}p.length&&f.right.push(p),!u&&t.push(f)}return t}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return e.forEach((function(e){var r=e.left,a=e.right;if(t)a.forEach((function(e){var t="";t+="".concat(r," -> ").concat(e.map((function(e){return e+""})).join(" ")),n.push(t)}));else{var i="";i+="".concat(r," -> "),a.forEach((function(e){i+=e.map((function(e){return e+""})).join(" ")+" ".concat(s," ")})),n.push(i.slice(0,-3))}})),n}function h(e){var t=function(e){return e.join(s)},n=[],r=new Map;function a(e,l){r.set(t(l),e);var u,c,f=0,p=!1,h={left:e,right:[]};if(1===l.length)return h.right=function(e){return i(e.map((function(e){return i(e)})))}(l),void n.push(h);for(var m=[],d=0;d<l.length;++d)if(!m.includes(d)){if(m.push(d),d===l.length-1)return void h.right.push(l[d]);var y=l[d],v=0,g=[];g.push(y),u="";e:for(;v<y.length;){c=y[v];var b=!1;if(0===v)for(var E=d+1;E<l.length;++E){var S=l[E][v];S&&S===c&&(b=!0,m.push(E),g.push(l[E]))}else for(var x=d+1;x<l.length;++x){var _=l[x][v];_&&_===c&&m.includes(x)&&(b=!0)}if(!b)break e;u+=c+s,v++}if(u){var T=g.map((function(e){var t=e.slice(u.slice(0,-1).split(s).length);return t.length?t:[o]})),k=void 0;k=r.has(t(T))?r.get(t(T)):"".concat(e).concat("'".repeat(f),"'");var w=[].concat(i(u.slice(0,-1).split(s)),[k]);h.right.push(w),p||(n.push(h),f++),r.has(t(T))||a(k,T)}else h.right.push(i(l[d])),p||n.push(h);p=!0}}return e.forEach((function(e){var n=e.left,a=e.right;r.set(t(a),n)})),e.forEach((function(e){a(e.left,e.right,new Map)})),n}function m(e){var t=[];return e.forEach((function(e){t.push.apply(t,i(function(e){var t=e.left,n=e.right,r=[],a="".concat(t,"`"),i=[],s=[],l=!1;return n.forEach((function(e){e[0]===t?(e.shift(),e.push(a),i.push(e)):e[0]===o?l=!0:(e.push(a),s.push(e))})),l&&s.push([a]),r.push({left:t,right:[].concat(s)},{left:a,right:[].concat(i,[[o]])}),r}(e)))})),t}function d(e,t){var n,r=function(e){return t.includes(e)||e===o},a={};e.forEach((function(e){var t=e.left;return a[t]=[]}));do{n=!1,e.forEach((function(e){var t=e.left,s=e.right,c=new Set(a[t]),f=c.size;s.forEach((function(e){for(var t=0,n=e[t];(null===(i=n)||void 0===i?void 0:i[0])===l;){var i;n=e[++t]}if(r(n))c.add(n);else if(a[n].includes(o)){do{var s,f=new Set(a[n]);for(f.delete(o),c=u(c,f),n=e[t+=1];(null===(p=n)||void 0===p?void 0:p[0])===l;){var p;n=e[++t]}}while(null!==(s=a[n])&&void 0!==s&&s.includes(o));r(n)?c.add(n):n&&(c=u(c,a[n]))}else c=u(c,a[n])})),a[t]=i(c),f!==c.size&&(n=!0)}))}while(n);return a}function y(e,t,n){var r=[];return e.some((function(e){if(e[0]===l)return!1;if(function(e){return n.includes(e)||e===o}(e))r.push(e);else{if(t[e].includes(o))return!1;r.push.apply(r,i(t[e]))}return!0})),r}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(e,t),r=function(e){return t.includes(e)||e===o},a={};e.forEach((function(e){var t=e.left;return a[t]=[]})),a[e[0].left].push(l);var s,c=new Set;for(var f in n)n[f].includes(o)&&c.add(f);do{s=!1,e.forEach((function(e){var t=e.left;e.right.forEach((function(e){for(var f=e.length-1;f>=0;--f){var p=e[f];if(!r(p)&&p[0]!==l){var h=a[p].length;if(f===e.length-1)a[p]=i(u(a[p],a[t]));else{for(var m=f+1,d=e[m];m<e.length&&d[0]===l;)d=e[++m];if(r(d))a[p]=i(u(a[p],[d]));else{var y=new Set(n[d]);for(y.delete(o),a[p]=i(u(a[p],y));m<e.length&&(c.has(d)||d[0]===l);)d=e[++m];m===e.length&&(a[p]=i(u(a[p],a[t])))}}a[p].length!==h&&(s=!0)}}}))}))}while(s);return a}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(e,t),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v(e,t),a=new Map;return e.forEach((function(e){var i=e.left;e.right.forEach((function(e){for(var s=0,u=e[s],c={left:i,right:e};s<e.length&&u&&u[0]===l;)u=e[++s];u===o?a.set(c,r[i]):a.set(c,y(e,n,t))}))})),a}function S(e){var t,n=new Map,r=g(e);try{for(r.s();!(t=r.n()).done;){var i=a(t.value,2),o=i[0].left,s=i[1];if(n.has(o)){var l=n.get(o),c=u(l,s);if(c.size!==l.size+s.length)return!1;n.set(o,c)}else n.set(o,new Set(s))}}catch(e){r.e(e)}finally{r.f()}return!0}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){if(!S(e))throw new Error("Select set does not satisfy the LL(1) grammar");var t,n=new Map,r=x(e);try{var i=function(){var e=a(t.value,2),r=e[0],i=r.left,o=r.right;e[1].forEach((function(e){n.has(e)||n.set(e,new Map),n.get(e).set(i,o)}))};for(r.s();!(t=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return n}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=f(e),r=d(n,t),i=v(n,t,r),o=E(n,t,r,i),s=T(o);return{startSymbol:n[0].left,firstSet:r,followSet:i,selectSet:o,predictSet:s,print:function(){var e,t=[],n=[],i=2,o=k(s);try{for(o.s();!(e=o.n()).done;){var l=a(e.value,1)[0];n.push(l),i=Math.max(i,l.length+2)}}catch(e){o.e(e)}finally{o.f()}for(var u in r)t.push(u),i=Math.max(i,u.length+2);for(var c=new Array(t.length+1).fill([]).map((function(){return new Array(n.length+1).fill("")})),f=0;f<n.length;++f)c[0][f+1]=n[f];for(var p=0;p<t.length;++p)c[p+1][0]=t[p];var h,m=k(s);try{for(m.s();!(h=m.n()).done;){var d,y=a(h.value,2),v=y[0],g=y[1],b=c[0].indexOf(v),E=void 0,S=k(g);try{for(S.s();!(d=S.n()).done;){for(var x=a(d.value,2),_=x[0],T=x[1],w=0;w<t.length;++w)if(c[w+1][0]===_){E=w+1;break}c[E][b]="-> ".concat(T.map((function(e){return e+""})).join(" ")),i=Math.max(i,c[E][b].length+2)}}catch(e){S.e(e)}finally{S.f()}}}catch(e){m.e(e)}finally{m.f()}for(var B="",A="\n"+("|"+"-".repeat(i+2)).repeat(n.length+1)+"|\n",F=0;F<c.length;++F){B+=A+"|";for(var $=0;$<c[F].length;++$){var O=0===F||0===$?" [33;1m "+c[F][$]+" [0m ":" [32;1m "+c[F][$]+" [0m ";B+=O+" ".repeat(i+13-O.length)+"|"}}B+=A,console.log(B)}}}return t})(),e.exports=t()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>vn});var e={};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(e),n.d(e,{$appendBlock:()=>it,$binaryExpression:()=>It,$createCall:()=>Dt,$createVariableDeclarator:()=>nt,$createVariableDeclaratorInit:()=>tt,$expressionStatement:()=>Wt,$logicalExpression:()=>qt,$mergeAlternate:()=>bt,$mergeAssignment:()=>jt,$mergeCallParam:()=>Mt,$mergeForBody:()=>Jt,$mergeForInit:()=>Gt,$mergeForTest:()=>Ht,$mergeForUpdate:()=>Yt,$mergeFunctionBody:()=>mt,$mergeFunctionId:()=>pt,$mergeFunctionParam:()=>ht,$mergeIfConsequent:()=>gt,$mergeIfTest:()=>vt,$mergeReturn:()=>ct,$mergeWhileBody:()=>Nt,$mergeWhileTest:()=>Vt,$popBlock:()=>ot,$unaryExpression:()=>Lt,$updateCallInfo:()=>Rt,_and:()=>At,_begin:()=>rt,_break:()=>lt,_congruent:()=>wt,_continue:()=>ut,_defined:()=>Xe,_divide:()=>Tt,_elif:()=>yt,_equal:()=>Et,_for:()=>zt,_function:()=>ft,_greater:()=>$t,_greaterEqual:()=>Ot,_identifier:()=>Ze,_if:()=>dt,_less:()=>Ct,_lessEqual:()=>Pt,_literal:()=>et,_minus:()=>xt,_multiply:()=>_t,_not:()=>Bt,_or:()=>Ft,_pass:()=>at,_plus:()=>St,_return:()=>st,_surplus:()=>kt,_while:()=>Ut,createRoot:()=>Qe});var p=function(){function e(t){s(this,e),this.stream=t,this.pos=0}return f(e,[{key:"isEnd",value:function(){return this.pos>=this.stream.length}},{key:"peek",value:function(){if(!this.isEnd())return this.stream[this.pos]}},{key:"read",value:function(){if(!this.isEnd())return this.stream[this.pos++]}},{key:"back",value:function(){if(!this.isEnd())return this.stream[--this.pos]}}]),e}();function h(e,t,n,r){n="[33;2m".concat(n,"[0m");var a=" ".repeat(n.length),i=r.end-r.start+1,o=a.slice(0,r.linePos-1)+"^".repeat(i)+a.slice(r.linePos+i-1);throw new e(t+"\n\t".concat(n,"\tat: ").concat(r.line,":").concat(r.linePos,"\n\t").concat(o))}var m,d,y,v,g,b,E,S,x,_,T,k,w,B,A,F,$,O,C,P,j,I,q,L,D,M,R,W,U,V,N,z,G,H,Y,J,K,Q,X,Z,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,fe,pe,he,me,de,ye,ve,ge,be,Ee,Se,xe,_e,Te,ke,we,Be,Ae,Fe,$e,Oe,Ce,Pe,je,Ie,qe,Le,De,Me="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Re="0123456789",We="<initialize>",Ue="<else>",Ve=f((function e(t,n,r,a){s(this,e),this.source=t,this.type=n,this.value=r,this.location=a})),Ne=function(){function e(t){s(this,e),this.table=t}return f(e,[{key:"tokenize",value:function(e){for(var t,n,r,a=e.split(/[\n\r]/g),i=[],o=this.table,s=new p(e+" "),l="",u="",c=We,f=s.pos,m=1,d=1,y=m,v=d;l=s.read();){-1!=="\n\r".indexOf(l)&&(m++,d=0);var g=o[c],b=!1;for(var E in g)if(-1!==E.indexOf(l)||E===Ue){b=!0;var S=g[E];if(S.error&&h(SyntaxError,S.error(l),a[m-1],{linePos:v,line:m,start:f,end:s.pos-1}),c===We&&(y=m,v=d),(c=S.state)===We)f=s.pos,u="";else if(S.isTerminate){-1!=="\n\r".indexOf(l)&&m--,d--;var x=a[m-1],_=c,T=u,k={};k.linePos=v,k.line=y,k.start=f,k.end=s.pos-2,i.push(new Ve(x,_,T,k)),u="",c=We,s.back(),f=s.pos}else u+=l;o[c]||h(SyntaxError,"Unexpected token '".concat(l,"'"),a[m-1],{linePos:v,line:m,start:f,end:s.pos-1});break}b||h(SyntaxError,"Invalid or unexpected token",a[m-1],{linePos:v,line:m,start:f,end:s.pos-1}),d++}return c!==We&&h(SyntaxError,"Status not ended",a[m-1],{linePos:v,line:m,start:f,end:s.pos-1}),i.push(new Ve(null===(t=i[i.length-1])||void 0===t?void 0:t.source,"$",null===(n=i[i.length-1])||void 0===n?void 0:n.value,null===(r=i[i.length-1])||void 0===r?void 0:r.location)),i}},{key:"toString",value:function(e){var t="";return e.forEach((function(e){var n=e.type;t+=n+" "})),t.slice(0,-1)}}]),e}();function ze(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=new Ne((ze(De={},We,(ze(m={},"d",{state:"def1"}),ze(m,"r",{state:"readOrRetrun1"}),ze(m,"f",{state:"funcFor"}),ze(m,"b",{state:"beginBreak"}),ze(m,"e",{state:"endElifElse1"}),ze(m,"i",{state:"if1"}),ze(m,"o",{state:"or1"}),ze(m,"a",{state:"and1"}),ze(m,"n",{state:"notNull1"}),ze(m,"p",{state:"pass1"}),ze(m,"w",{state:"while1"}),ze(m,"c",{state:"continue1"}),ze(m,"T",{state:"True1"}),ze(m,"F",{state:"False1"}),ze(m,Me,{state:"chars"}),ze(m,"0",{state:"zero"}),ze(m,Re,{state:"number"}),ze(m,'"',{state:"quotation"}),ze(m,"(",{state:"leftBracket"}),ze(m,")",{state:"rightBracket"}),ze(m,"+",{state:"plus"}),ze(m,"-",{state:"minus"}),ze(m,"*",{state:"multiply"}),ze(m,"/",{state:"divide"}),ze(m,"%",{state:"surplus"}),ze(m,"=",{state:"equalWrite"}),ze(m,";",{state:"semicolon"}),ze(m,"#",{state:"pound"}),ze(m,":",{state:"colon"}),ze(m,",",{state:"comma"}),ze(m,">",{state:"greaterWrite"}),ze(m,"<",{state:"lessWrite"}),ze(m," \n\t\r",{state:We}),m)),ze(De,"chars",(ze(d={},Me+Re,{state:"chars"}),ze(d,Ue,{state:"identifier",isTerminate:!0}),d)),ze(De,"zero",(ze(y={},Re,{error:function(){return"Numbers cannot contain leading zeros"}}),ze(y,".",{state:"decimals"}),ze(y,Ue,{state:"literal",isTerminate:!0}),y)),ze(De,"number",(ze(v={},Re,{state:"number"}),ze(v,".",{state:"decimals"}),ze(v,Ue,{state:"literal",isTerminate:!0}),v)),ze(De,"decimals",(ze(g={},Re,{state:"decimals"}),ze(g,".",{error:function(e){return"Unexpected token '".concat(e,"'")}}),ze(g,Ue,{state:"literal",isTerminate:!0}),g)),ze(De,"def1",(ze(b={},"e",{state:"def2"}),ze(b,Me+Re,{state:"chars"}),ze(b,Ue,{state:"identifier",isTerminate:!0}),b)),ze(De,"def2",(ze(E={},"f",{state:"def3"}),ze(E,Me+Re,{state:"chars"}),ze(E,Ue,{state:"identifier",isTerminate:!0}),E)),ze(De,"def3",(ze(S={},Me+Re,{state:"chars"}),ze(S,Ue,{state:"defined",isTerminate:!0}),S)),ze(De,"readOrRetrun1",(ze(x={},"e",{state:"readOrRetrun2"}),ze(x,Me+Re,{state:"chars"}),ze(x,Ue,{state:"identifier",isTerminate:!0}),x)),ze(De,"readOrRetrun2",(ze(_={},"a",{state:"read3"}),ze(_,"t",{state:"return3"}),ze(_,Me+Re,{state:"chars"}),ze(_,Ue,{state:"identifier",isTerminate:!0}),_)),ze(De,"read3",(ze(T={},"d",{state:"read4"}),ze(T,Me+Re,{state:"chars"}),ze(T,Ue,{state:"identifier",isTerminate:!0}),T)),ze(De,"read4",(ze(k={},Me+Re,{state:"chars"}),ze(k,Ue,{state:"defined",isTerminate:!0}),k)),ze(De,"return3",(ze(w={},"u",{state:"return4"}),ze(w,Me+Re,{state:"chars"}),ze(w,Ue,{state:"identifier",isTerminate:!0}),w)),ze(De,"return4",(ze(B={},"r",{state:"return5"}),ze(B,Me+Re,{state:"chars"}),ze(B,Ue,{state:"identifier",isTerminate:!0}),B)),ze(De,"return5",(ze(A={},"n",{state:"return6"}),ze(A,Me+Re,{state:"chars"}),ze(A,Ue,{state:"identifier",isTerminate:!0}),A)),ze(De,"return6",(ze(F={},Me+Re,{state:"chars"}),ze(F,Ue,{state:"return",isTerminate:!0}),F)),ze(De,"funcFor",(ze($={},"u",{state:"func2"}),ze($,"o",{state:"for2"}),ze($,Me+Re,{state:"chars"}),ze($,Ue,{state:"identifier",isTerminate:!0}),$)),ze(De,"func2",(ze(O={},"n",{state:"func3"}),ze(O,Me+Re,{state:"chars"}),ze(O,Ue,{state:"identifier",isTerminate:!0}),O)),ze(De,"func3",(ze(C={},"c",{state:"func4"}),ze(C,Me+Re,{state:"chars"}),ze(C,Ue,{state:"identifier",isTerminate:!0}),C)),ze(De,"func4",(ze(P={},Me+Re,{state:"chars"}),ze(P,Ue,{state:"function",isTerminate:!0}),P)),ze(De,"beginBreak",(ze(j={},"e",{state:"begin2"}),ze(j,"r",{state:"break2"}),ze(j,Me+Re,{state:"chars"}),ze(j,Ue,{state:"identifier",isTerminate:!0}),j)),ze(De,"begin2",(ze(I={},"g",{state:"begin3"}),ze(I,Me+Re,{state:"chars"}),ze(I,Ue,{state:"identifier",isTerminate:!0}),I)),ze(De,"begin3",(ze(q={},"i",{state:"begin4"}),ze(q,Me+Re,{state:"chars"}),ze(q,Ue,{state:"identifier",isTerminate:!0}),q)),ze(De,"begin4",(ze(L={},"n",{state:"begin5"}),ze(L,Me+Re,{state:"chars"}),ze(L,Ue,{state:"identifier",isTerminate:!0}),L)),ze(De,"begin5",(ze(D={},Me+Re,{state:"chars"}),ze(D,Ue,{state:"begin",isTerminate:!0}),D)),ze(De,"break2",(ze(M={},"e",{state:"break3"}),ze(M,Me+Re,{state:"chars"}),ze(M,Ue,{state:"identifier",isTerminate:!0}),M)),ze(De,"break3",(ze(R={},"a",{state:"break4"}),ze(R,Me+Re,{state:"chars"}),ze(R,Ue,{state:"identifier",isTerminate:!0}),R)),ze(De,"break4",(ze(W={},"k",{state:"break5"}),ze(W,Me+Re,{state:"chars"}),ze(W,Ue,{state:"identifier",isTerminate:!0}),W)),ze(De,"break5",(ze(U={},Me+Re,{state:"chars"}),ze(U,Ue,{state:"break",isTerminate:!0}),U)),ze(De,"continue1",(ze(V={},"o",{state:"continue2"}),ze(V,Me+Re,{state:"chars"}),ze(V,Ue,{state:"identifier",isTerminate:!0}),V)),ze(De,"continue2",(ze(N={},"n",{state:"continue3"}),ze(N,Me+Re,{state:"chars"}),ze(N,Ue,{state:"identifier",isTerminate:!0}),N)),ze(De,"continue3",(ze(z={},"t",{state:"continue4"}),ze(z,Me+Re,{state:"chars"}),ze(z,Ue,{state:"identifier",isTerminate:!0}),z)),ze(De,"continue4",(ze(G={},"i",{state:"continue5"}),ze(G,Me+Re,{state:"chars"}),ze(G,Ue,{state:"identifier",isTerminate:!0}),G)),ze(De,"continue5",(ze(H={},"n",{state:"continue6"}),ze(H,Me+Re,{state:"chars"}),ze(H,Ue,{state:"identifier",isTerminate:!0}),H)),ze(De,"continue6",(ze(Y={},"u",{state:"continue7"}),ze(Y,Me+Re,{state:"chars"}),ze(Y,Ue,{state:"identifier",isTerminate:!0}),Y)),ze(De,"continue7",(ze(J={},"e",{state:"continue8"}),ze(J,Me+Re,{state:"chars"}),ze(J,Ue,{state:"identifier",isTerminate:!0}),J)),ze(De,"continue8",(ze(K={},Me+Re,{state:"chars"}),ze(K,Ue,{state:"continue",isTerminate:!0}),K)),ze(De,"endElifElse1",(ze(Q={},"n",{state:"end2"}),ze(Q,"l",{state:"elifElse2"}),ze(Q,Me+Re,{state:"chars"}),ze(Q,Ue,{state:"identifier",isTerminate:!0}),Q)),ze(De,"end2",(ze(X={},"d",{state:"end3"}),ze(X,Me+Re,{state:"chars"}),ze(X,Ue,{state:"identifier",isTerminate:!0}),X)),ze(De,"end3",(ze(Z={},Me+Re,{state:"chars"}),ze(Z,Ue,{state:"end",isTerminate:!0}),Z)),ze(De,"elifElse2",(ze(ee={},"i",{state:"elif3"}),ze(ee,"s",{state:"else3"}),ze(ee,Me+Re,{state:"chars"}),ze(ee,Ue,{state:"identifier",isTerminate:!0}),ee)),ze(De,"elif3",(ze(te={},"f",{state:"elif4"}),ze(te,Me+Re,{state:"chars"}),ze(te,Ue,{state:"identifier",isTerminate:!0}),te)),ze(De,"elif4",(ze(ne={},Me+Re,{state:"chars"}),ze(ne,Ue,{state:"elif",isTerminate:!0}),ne)),ze(De,"else3",(ze(re={},"e",{state:"else4"}),ze(re,Me+Re,{state:"chars"}),ze(re,Ue,{state:"identifier",isTerminate:!0}),re)),ze(De,"else4",(ze(ae={},Me+Re,{state:"chars"}),ze(ae,Ue,{state:"else",isTerminate:!0}),ae)),ze(De,"if1",(ze(ie={},"f",{state:"if2"}),ze(ie,Me+Re,{state:"chars"}),ze(ie,Ue,{state:"identifier",isTerminate:!0}),ie)),ze(De,"if2",(ze(oe={},Me+Re,{state:"chars"}),ze(oe,Ue,{state:"if",isTerminate:!0}),oe)),ze(De,"or1",(ze(se={},"r",{state:"or2"}),ze(se,Me+Re,{state:"chars"}),ze(se,Ue,{state:"identifier",isTerminate:!0}),se)),ze(De,"or2",(ze(le={},Me+Re,{state:"chars"}),ze(le,Ue,{state:"or",isTerminate:!0}),le)),ze(De,"and1",(ze(ue={},"n",{state:"and2"}),ze(ue,Me+Re,{state:"chars"}),ze(ue,Ue,{state:"identifier",isTerminate:!0}),ue)),ze(De,"and2",(ze(ce={},"d",{state:"and3"}),ze(ce,Me+Re,{state:"chars"}),ze(ce,Ue,{state:"identifier",isTerminate:!0}),ce)),ze(De,"and3",(ze(fe={},Me+Re,{state:"chars"}),ze(fe,Ue,{state:"and",isTerminate:!0}),fe)),ze(De,"notNull1",(ze(pe={},"o",{state:"not2"}),ze(pe,"u",{state:"null2"}),ze(pe,Me+Re,{state:"chars"}),ze(pe,Ue,{state:"identifier",isTerminate:!0}),pe)),ze(De,"not2",(ze(he={},"t",{state:"not3"}),ze(he,Me+Re,{state:"chars"}),ze(he,Ue,{state:"identifier",isTerminate:!0}),he)),ze(De,"not3",(ze(me={},Me+Re,{state:"chars"}),ze(me,Ue,{state:"not",isTerminate:!0}),me)),ze(De,"null2",(ze(de={},"l",{state:"null3"}),ze(de,Me+Re,{state:"chars"}),ze(de,Ue,{state:"identifier",isTerminate:!0}),de)),ze(De,"null3",(ze(ye={},"l",{state:"null4"}),ze(ye,Me+Re,{state:"chars"}),ze(ye,Ue,{state:"identifier",isTerminate:!0}),ye)),ze(De,"null4",(ze(ve={},Me+Re,{state:"chars"}),ze(ve,Ue,{state:"literal",isTerminate:!0}),ve)),ze(De,"pass1",(ze(ge={},"a",{state:"pass2"}),ze(ge,Me+Re,{state:"chars"}),ze(ge,Ue,{state:"identifier",isTerminate:!0}),ge)),ze(De,"pass2",(ze(be={},"s",{state:"pass3"}),ze(be,Me+Re,{state:"chars"}),ze(be,Ue,{state:"identifier",isTerminate:!0}),be)),ze(De,"pass3",(ze(Ee={},"s",{state:"pass4"}),ze(Ee,Me+Re,{state:"chars"}),ze(Ee,Ue,{state:"identifier",isTerminate:!0}),Ee)),ze(De,"pass4",(ze(Se={},Me+Re,{state:"chars"}),ze(Se,Ue,{state:"pass",isTerminate:!0}),Se)),ze(De,"for2",(ze(xe={},"r",{state:"for3"}),ze(xe,Me+Re,{state:"chars"}),ze(xe,Ue,{state:"identifier",isTerminate:!0}),xe)),ze(De,"for3",(ze(_e={},Me+Re,{state:"chars"}),ze(_e,Ue,{state:"for",isTerminate:!0}),_e)),ze(De,"True1",(ze(Te={},"r",{state:"True2"}),ze(Te,Me+Re,{state:"chars"}),ze(Te,Ue,{state:"identifier",isTerminate:!0}),Te)),ze(De,"True2",(ze(ke={},"u",{state:"True3"}),ze(ke,Me+Re,{state:"chars"}),ze(ke,Ue,{state:"identifier",isTerminate:!0}),ke)),ze(De,"True3",(ze(we={},"e",{state:"True4"}),ze(we,Me+Re,{state:"chars"}),ze(we,Ue,{state:"identifier",isTerminate:!0}),we)),ze(De,"True4",(ze(Be={},Me+Re,{state:"chars"}),ze(Be,Ue,{state:"literal",isTerminate:!0}),Be)),ze(De,"False1",(ze(Ae={},"a",{state:"False2"}),ze(Ae,Me+Re,{state:"chars"}),ze(Ae,Ue,{state:"identifier",isTerminate:!0}),Ae)),ze(De,"False2",(ze(Fe={},"l",{state:"False3"}),ze(Fe,Me+Re,{state:"chars"}),ze(Fe,Ue,{state:"identifier",isTerminate:!0}),Fe)),ze(De,"False3",(ze($e={},"s",{state:"False4"}),ze($e,Me+Re,{state:"chars"}),ze($e,Ue,{state:"identifier",isTerminate:!0}),$e)),ze(De,"False4",(ze(Oe={},"e",{state:"False5"}),ze(Oe,Me+Re,{state:"chars"}),ze(Oe,Ue,{state:"identifier",isTerminate:!0}),Oe)),ze(De,"False5",(ze(Ce={},Me+Re,{state:"chars"}),ze(Ce,Ue,{state:"literal",isTerminate:!0}),Ce)),ze(De,"while1",(ze(Pe={},"h",{state:"while2"}),ze(Pe,Me+Re,{state:"chars"}),ze(Pe,Ue,{state:"identifier",isTerminate:!0}),Pe)),ze(De,"while2",(ze(je={},"i",{state:"while3"}),ze(je,Me+Re,{state:"chars"}),ze(je,Ue,{state:"identifier",isTerminate:!0}),je)),ze(De,"while3",(ze(Ie={},"l",{state:"while4"}),ze(Ie,Me+Re,{state:"chars"}),ze(Ie,Ue,{state:"identifier",isTerminate:!0}),Ie)),ze(De,"while4",(ze(qe={},"e",{state:"while5"}),ze(qe,Me+Re,{state:"chars"}),ze(qe,Ue,{state:"identifier",isTerminate:!0}),qe)),ze(De,"while5",(ze(Le={},Me+Re,{state:"chars"}),ze(Le,Ue,{state:"while",isTerminate:!0}),Le)),ze(De,"quotation",ze({'"':{state:"string"}},Ue,{state:"quotation"})),ze(De,"string",ze({},Ue,{state:"literal",isTerminate:!0})),ze(De,"leftBracket",ze({},Ue,{state:"leftBracket",isTerminate:!0})),ze(De,"rightBracket",ze({},Ue,{state:"rightBracket",isTerminate:!0})),ze(De,"plus",ze({},Ue,{state:"plus",isTerminate:!0})),ze(De,"minus",ze({},Ue,{state:"minus",isTerminate:!0})),ze(De,"multiply",ze({},Ue,{state:"multiply",isTerminate:!0})),ze(De,"divide",ze({},Ue,{state:"divide",isTerminate:!0})),ze(De,"surplus",ze({},Ue,{state:"surplus",isTerminate:!0})),ze(De,"equalWrite",ze({"=":{state:"congruent"}},Ue,{state:"equal",isTerminate:!0})),ze(De,"congruent",ze({},Ue,{state:"congruent",isTerminate:!0})),ze(De,"semicolon",ze({},Ue,{state:"semicolon",isTerminate:!0})),ze(De,"colon",ze({},Ue,{state:"colon",isTerminate:!0})),ze(De,"comma",ze({},Ue,{state:"comma",isTerminate:!0})),ze(De,"pound",{">":{state:"comment"}}),ze(De,"comment",ze({"<":{state:"commentReady"}},Ue,{state:"comment"})),ze(De,"commentReady",ze({"#":{state:We}},Ue,{state:"comment"})),ze(De,"greaterWrite",ze({"=":{state:"greaterEqualWrite"}},Ue,{state:"greater",isTerminate:!0})),ze(De,"greaterEqualWrite",ze({},Ue,{state:"greaterEqual",isTerminate:!0})),ze(De,"lessWrite",ze({"=":{state:"lessEqualWrite"}},Ue,{state:"less",isTerminate:!0})),ze(De,"lessEqualWrite",ze({},Ue,{state:"lessEqual",isTerminate:!0})),De));var He=n(508),Ye={Program:"Program",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",FunctionDeclaration:"FunctionDeclaration",Identifier:"Identifier",Literal:"Literal",EqualExpression:"EqualExpression",PlusExpression:"PlusExpression",MinusExpression:"MinusExpression",MultiplyExpression:"MultiplyExpression",DivideExpression:"DivideExpression",SurplusExpression:"SurplusExpression",CongruentExpression:"CongruentExpression",NotExpression:"NotExpression",AndExpression:"AndExpression",OrExpression:"OrExpression",GreaterExpression:"GreaterExpression",GreaterEqualExpression:"GreaterEqualExpression",LessExpression:"LessExpression",LessEqualExpression:"LessEqualExpression",LogicalExpression:"LogicalExpression",UnaryExpression:"UnaryExpression",BinaryExpression:"BinaryExpression",AssignmentExpression:"AssignmentExpression",CallExpression:"CallExpression",ExpressionStatement:"ExpressionStatement",BlockStatement:"BlockStatement",ReturnStatement:"ReturnStatement",IfStatement:"IfStatement",BreakStatement:"BreakStatement",ContinueStatement:"ContinueStatement",WhileStatement:"WhileStatement",ForStatement:"ForStatement"};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t){return{type:Ye.Program,location:t,body:e}}function Xe(e){var t=e.source,n=e.value,r=e.location;return{type:Ye.VariableDeclaration,source:t,location:r,declarations:[],kind:n}}function Ze(e){var t=e.source,n=e.value,r=e.location;return{type:Ye.Identifier,source:t,location:r,name:n}}function et(e){var t,n=e.source,r=e.value,a=e.location;return t="True"===r||"False"!==r&&("null"===r?null:'"'==r[0]&&'"'===r[r.length-1]?r.slice(1,-1):Number(r)),{type:Ye.Literal,source:n,location:a,value:t,raw:r}}function tt(e){var t=e.length-3,n=e[t],r=e[t+2],a=Ke(Ke({type:Ye.VariableDeclarator},Kt(n,r)),{},{id:n,init:r});e.splice(t,3,a),e[e.length-2].declarations.push(e.pop())}function nt(e){var t=e.length-1,n=e[t],r=Ke(Ke({type:Ye.VariableDeclarator},Kt(n)),{},{id:n,init:null});e.splice(t,1,r),e[e.length-2].declarations.push(e.pop())}function rt(e){var t=e.source,n=e.location;return{type:Ye.BlockStatement,source:t,location:n,body:[]}}var at=rt;function it(e,t){var n=e[e.length-1];t.push(n.body)}function ot(e,t){t.pop()}function st(e){var t=e.source,n=e.location;return{type:Ye.ReturnStatement,source:t,location:n,argument:null}}function lt(e){var t=e.source,n=e.location;return{type:Ye.BreakStatement,source:t,location:n,argument:null}}function ut(e){var t=e.source,n=e.location;return{type:Ye.ContinueStatement,source:t,location:n,argument:null}}function ct(e){var t=e.length-1;if(![Ye.ReturnStatement,Ye.BreakStatement,Ye.ContinueStatement].includes(e[t].type)){var n=e[t-1],r=e[t];n.argument=r,e.pop()}}function ft(e){var t=e.source,n=e.location;return{type:Ye.FunctionDeclaration,source:t,location:n,id:null,params:[],body:null}}function pt(e){var t=e.length-2,n=e[t],r=e[t+1];n.id=r,e.pop()}function ht(e){var t=e.length-2,n=e[t],r=e[t+1];n.params.push(r),e.pop()}function mt(e){var t=e.length-2,n=e[t],r=e[t+1];n.body=r,e.pop()}function dt(e){var t=e.source,n=e.location;return{type:Ye.IfStatement,source:t,location:n,test:null,consequent:null,alternate:null}}var yt=dt;function vt(e){var t=e.length-2,n=e[t],r=e[t+1];n.test=r,e.splice(t+1,1)}function gt(e){var t=e.length-2,n=e[t],r=e[t+1];n.consequent=r,e.splice(t+1,1)}function bt(e){for(var t=e.length-2,n=e[t],r=e[t+1],a=n;a.alternate&&a.alternate.type===Ye.IfStatement;)a=a.alternate;a.alternate=r,e.splice(t+1,1)}function Et(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.EqualExpression,source:n,location:r,operator:t}}function St(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.PlusExpression,source:n,location:r,operator:t}}function xt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.MinusExpression,source:n,location:r,operator:t}}function _t(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.MultiplyExpression,source:n,location:r,operator:t}}function Tt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.DivideExpression,source:n,location:r,operator:t}}function kt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.SurplusExpression,source:n,location:r,operator:t}}function wt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.CongruentExpression,source:n,location:r,operator:t}}function Bt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.NotExpression,source:n,location:r,operator:t}}function At(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.AndExpression,source:n,location:r,operator:t}}function Ft(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.OrExpression,source:n,location:r,operator:t}}function $t(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.GreaterExpression,source:n,location:r,operator:t}}function Ot(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.GreaterEqualExpression,source:n,location:r,operator:t}}function Ct(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.LessExpression,source:n,location:r,operator:t}}function Pt(e){var t=e.value,n=e.source,r=e.location;return{type:Ye.LessEqualExpression,source:n,location:r,operator:t}}function jt(e){var t=e.length-2,n=e[t],r=e[t-1],a=e[t+1],i=Ke(Ke({type:Ye.AssignmentExpression},Kt(r,n,a)),{},{left:r,operator:n.operator,right:a});e.splice(t-1,3,i)}function It(e){var t=e.length-2,n=e[t],r=e[t-1],a=e[t+1],i=Ke(Ke({type:Ye.BinaryExpression},Kt(r,n,a)),{},{left:r,operator:n.operator,right:a});e.splice(t-1,3,i)}function qt(e){var t=e.length-2,n=e[t],r=e[t-1],a=e[t+1],i=Ke(Ke({type:Ye.LogicalExpression},Kt(r,n,a)),{},{left:r,operator:n.operator,right:a});e.splice(t-1,3,i)}function Lt(e){var t=e.length-2,n=e[t],r=e[t+1],a=Ke(Ke({type:Ye.UnaryExpression},Kt(n,r)),{},{operator:n.operator,argument:r});e.splice(t,2,a)}function Dt(e){var t=e.length-1,n=e[t],r=Ke(Ke({type:Ye.CallExpression},Kt(n)),{},{callee:n,arguments:[]});e.splice(t,1,r)}function Mt(e){var t=e.length-2,n=e[t],r=e[t+1];n.arguments.push(r),e.pop()}function Rt(e){var t=e.length-1,n=e[t],r=Ke(Ke({},n),Kt.apply(void 0,[n.callee].concat(o(n.arguments))));e.splice(t,1,r)}function Wt(e){var t;e.push((t=e.pop(),{type:Ye.ExpressionStatement,source:t.source,location:t.location,expression:t}))}function Ut(e){var t=e.source,n=e.location;return{type:Ye.WhileStatement,source:t,location:n,test:null,body:null,alternate:null}}function Vt(e){var t=e.length-2,n=e[t],r=e[t+1];n.test=r,e.splice(t+1,1)}function Nt(e){var t=e.length-2,n=e[t],r=e[t+1];n.body=r,e.splice(t+1,1)}function zt(e){var t=e.source,n=e.location;return{type:Ye.ForStatement,source:t,location:n,init:null,test:null,update:null,body:null,alternate:null}}function Gt(e){var t=e.length-1;if(e[t].type!==Ye.ForStatement){var n=e[t-1],r=e[t];n.init=r,e.pop()}}function Ht(e){var t=e.length-1;if(e[t].type!==Ye.ForStatement){var n=e[t-1],r=e[t];n.test=r,e.pop()}}function Yt(e){var t=e.length-1;if(e[t].type!==Ye.ForStatement){var n=e[t-1],r=e[t];n.update=r,e.pop()}}function Jt(e){var t=e.length-2,n=e[t],r=e[t+1];n.body=r,e.splice(t+1,1)}function Kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].source,a=new Set;a.add(r);for(var i=1;i<t.length;++i){var s=t[i].source;a.add(s)}return{source:o(a).join(""),location:Ke(Ke({},t[0].location),{},{end:t[t.length-1].location.end})}}var Qt=function(){function e(t,n,r){s(this,e),this.startSymbol=t,this.predictSet=n,this.constructor=r}return f(e,[{key:"parse",value:function(e){var t=[],n=[],r=[];t.push(n),r.push(this.startSymbol);for(var a,i=new p(e);r.length||!i.isEnd();){if(!r.length){if((a=i.peek()).type===He.$)break;h(SyntaxError,"Unexpected token '".concat(a.value,"'"),a.source,a.location)}var o=(a=i.peek()).type;this.predictSet.has(o)||h(SyntaxError,"Unexpected token '".concat(a.value,"'"),a.source,a.location);var s,l,u=this.predictSet.get(o),c=r.pop();if(c[0]!==He.$)if(c!==a.type){u.has(c)||h(SyntaxError,"Unexpected token '".concat(a.value,"'"),a.source,a.location);var f=u.get(c);if(f[0]!==He.EMPTY_CHAIN)for(var m=f.length-1;m>=0;--m)f[m]!==He.EMPTY_CHAIN&&r.push(f[m])}else{var d,y,v=null===(d=(y=this.constructor)["_".concat(a.type)])||void 0===d?void 0:d.call(y,a);v&&t[t.length-1].push(v),i.read()}else null===(s=(l=this.constructor)[c])||void 0===s||s.call(l,t[t.length-1],t)}return Qe(n,{linePos:1,line:1,start:0,end:n.length?n[n.length-1].location.end:0})}}]),e}(),Xt="defined|identifier|equal|congruent|semicolon|leftBracket|rightBracket|literal|plus|minus|multiply|divide|surplus|function|begin|end|return|comma|colon|if|elif|else|or|and|not|greater|greaterEqual|less|lessEqual|pass|for|while|break|continue".split("|"),Zt=(0,He.makeLL1)(["Sentence                   ->  SingleStatement Semicolon Sentence | null","SingleStatement            ->  Defined | Block | Function | Condition | Circulation | Assignment","Semicolon                  ->  SingleSemicolon Semicolon'","Semicolon'                 ->  SingleSemicolon Semicolon' | null","SingleSemicolon            ->  semicolon","BinaryExpression           ->  ArithmeticExpression1 BinaryExpression' $expressionStatement","BinaryExpression'          ->  LogicalExpression BinaryExpression' | ComparisonExpression BinaryExpression' | null","ArithmeticExpression1      ->  ArithmeticExpression2 ArithmeticExpression1'","ArithmeticExpression1'     ->  Operator1 ArithmeticExpression2 $binaryExpression ArithmeticExpression1' | null","ArithmeticExpression2      ->  UnaryExpression ArithmeticExpression2'","ArithmeticExpression2'     ->  Operator2 ArithmeticExpression2 $binaryExpression | null","UnaryExpression            ->  Operator1 Variable $unaryExpression | Variable | not Variable $unaryExpression","Variable                   ->  identifier Variable' | literal | leftBracket BinaryExpression rightBracket","Variable'                  ->  Call | null","LogicalExpression          ->  or ArithmeticExpression1 $logicalExpression | and ArithmeticExpression1 $logicalExpression | congruent ArithmeticExpression1 $binaryExpression","ComparisonExpression       ->  greater ArithmeticExpression1 $binaryExpression |\n                                  greaterEqual ArithmeticExpression1 $binaryExpression | \n                                  less ArithmeticExpression1 $binaryExpression | \n                                  lessEqual ArithmeticExpression1 $binaryExpression","Operator1                  ->  plus | minus","Operator2                  ->  multiply | divide | surplus","Defined                    ->  defined identifier Defined'","Defined'                   ->  equal Defined'' $createVariableDeclaratorInit Defined''' | $createVariableDeclarator null","Defined''                  ->  BinaryExpression | Function | Condition | Circulation | Block","Defined'''                 ->  comma identifier Defined' | null","Assignment                 ->  identifier Assignment'","Assignment'                ->  equal Assignment'' $mergeAssignment $expressionStatement | Call $expressionStatement | null","Assignment''               ->  BinaryExpression | Function | Condition | Circulation | Block","Call                       ->  $createCall leftBracket Call' rightBracket $updateCallInfo","Call'                      ->  CallParams $mergeCallParam Call'' | null","Call''                     ->  comma CallParams $mergeCallParam Call'' | null","CallParams                 ->  BinaryExpression | Function","Function                   ->  function identifier $mergeFunctionId Params Colon SingleBlock $mergeFunctionBody","Params                     ->  leftBracket Params' rightBracket","Params'                    ->  identifier $mergeFunctionParam Params'' | null","Params''                   ->  comma identifier $mergeFunctionParam Params'' | null","Block                      ->  begin $appendBlock Sentence Block'","Block'                     ->  end $popBlock | return Block'' | break Block'' | continue Block'''","Block''                    ->  BinaryExpression $mergeReturn Block''' | Function $mergeReturn Block''' | Condition $mergeReturn Block''' | Block'''","Block'''                   ->  Semicolon end $popBlock","Condition                  ->  If Elif","If                         ->  if leftBracket BinaryExpression rightBracket $mergeIfTest Colon SingleBlock $mergeIfConsequent","Elif                       ->  elif leftBracket BinaryExpression rightBracket $mergeIfTest Colon SingleBlock $mergeIfConsequent $mergeAlternate Elif |\n                                  Else | \n                                  null","Else                       ->  else Colon SingleBlock $mergeAlternate","Circulation                ->  For CirculationElse | While CirculationElse","For                        ->  for leftBracket ForSentence' $mergeForInit SingleSemicolon ForSentence'' $mergeForTest SingleSemicolon ForSentence''' $mergeForUpdate rightBracket Colon SingleBlock  $mergeForBody","ForSentence'               ->  Defined | Assignment | null","ForSentence''              ->  BinaryExpression | null","ForSentence'''             ->  Assignment | null","While                      ->  while leftBracket BinaryExpression rightBracket $mergeWhileTest Colon SingleBlock $mergeWhileBody","CirculationElse            ->  Else | null","SingleBlock                ->  Block | BinaryExpression | Function | pass | break SingleBlock' $mergeReturn | continue","SingleBlock'               ->  BinaryExpression | null","Colon                      ->  colon"],Xt);const en=new Qt(Zt.startSymbol,Zt.predictSet,e);var tn=function(){function e(t){s(this,e),this.parent=t,this.scope=new Map}return f(e,[{key:"has",value:function(e){return this.scope.has(e)}},{key:"get",value:function(e){for(var t=this;t&&!t.has(e);)t=t.parent;if(t)return t.scope.get(e)}},{key:"set",value:function(e,t){var n=this.get(e);n?n.scope.set(e,t):this.scope.set(e,t)}},{key:"setCur",value:function(e,t){this.scope.set(e,t)}},{key:"clear",value:function(){this.scope.clear()}}]),e}();function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}function on(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var a=sn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return on(this,n)}}var un={Literal:"Literal",Function:"Function",SystemFunction:"SystemFunction"},cn=f((function e(){s(this,e),ze(this,"__system__",!0)})),fn=function(e){an(n,e);var t=ln(n);function n(e,r){var a;return s(this,n),ze(nn(a=t.call(this)),"__type__",un.Literal),a.isRead=e,a.value=r,a}return f(n)}(cn),pn=function(e){an(n,e);var t=ln(n);function n(e,r,a,i){var o;return s(this,n),ze(nn(o=t.call(this)),"__type__",un.Function),o.name=e,o.params=r.map((function(e){return e.name})),o.length=r.length,o.body=a,o.scope=i,o}return f(n)}(cn),hn=function(e){an(n,e);var t=ln(n);function n(e,r){var a;return s(this,n),ze(nn(a=t.call(this)),"__type__",un.SystemFunction),a.name=e,a.fn=r,a}return f(n)}(cn);function mn(e){return null!=e&&e.__type__?e.__type__===un.Literal?(null===(t=e.value)||void 0===t?void 0:t.__type__)===un.Function?"":e.value:e.__type__===un.Function?"":void 0:e;var t}function dn(e){if(null==e||!e.__type__)return n(e);var t;if(e.__type__===un.Literal)return[un.Function,un.SystemFunction].includes(null===(t=e.value)||void 0===t?void 0:t.__type__)?"<class function>":n(e.value);if([un.Function,un.SystemFunction].includes(e.__type__))return"<class function>";function n(e){switch(e){case!0:case!1:return"<class boolean>";case null:case void 0:return"<class null>";default:if("number"==typeof e)return"<class number>";if("string"==typeof e)return"<class string>"}}}var yn=function(){function e(){s(this,e),this.lexer=Ge,this.parser=en,this.AstType=Ye}return f(e,[{key:"getGlobalScope",value:function(){var e=this,t=new tn;return t.set("print",new hn("print",(function(e,t){var n;(n=console).log.apply(n,o(e.map((function(e){return function(e){if(null==e||!e.__type__)return r(e);var t,n;if(e.__type__===un.Literal)return[un.Function].includes(null===(t=e.value)||void 0===t?void 0:t.__type__)?"[36;2m".concat("<Function ".concat(e.value.name,">"),"[0m"):[un.SystemFunction].includes(null===(n=e.value)||void 0===n?void 0:n.__type__)?"[36;2m".concat("<SystemFunction ".concat(e.value.name,">"),"[0m"):r(e.value);if(e.__type__===un.Function)return"[36;2m".concat("<Function ".concat(e.name,">"),"[0m");if(e.__type__===un.SystemFunction)return"[36;2m".concat("<SystemFunction ".concat(e.name,">"),"[0m");function r(e){switch(e){case!0:return"[32;2mTrue[0m";case!1:return"[31;2mFalse[0m";case null:case void 0:return"[30;2mnull[0m";default:return e}}}(e)}))))}))),t.set("type",new hn("type",(function(e,t){var n=e[0];return"[35;2m".concat(dn(n),"[0m")}))),t.set("eval",new hn("eval",(function(t,n){var r=t[0];return"<class string>"!==dn(r)&&h(TypeError,"<eval>: param is not string",n.source,n.location),e.compile(r)}))),t.set("timer",new hn("timer",(function(t,n){var r=t[0],a=t[1];"<class function>"!==dn(r)&&h(TypeError,"<timer>: param is not function",n.source,n.location),"<class number>"!==dn(a)&&h(TypeError,"<timer>: param is not number",n.source,n.location);var o=0,s=setInterval((function(){var t=i(r.params,2),n=t[0],a=t[1];n&&r.scope.set(n,new hn("stop",(function(){clearInterval(s)}))),a&&r.scope.set(a,new fn(!1,++o)),e.handle(r.body,r.scope,r.scope),r.scope.clear()}),mn(a))}))),t}},{key:"compile",value:function(e){var t=this.lexer.tokenize(e),n=this.parser.parse(t);return this.handle(n,null,this.getGlobalScope())}},{key:"handle",value:function(e,t,n){var r=this;switch(e.type){case Ye.Program:for(var a=e.body,i=0;i<a.length;++i){var o=a[i];this.handle(o,null,n)}break;case Ye.BlockStatement:var s=e.body;n=(null==t?void 0:t.constructor)===tn?t:new tn(n);for(var l=0;l<s.length;++l){var u=s[l],c=u.type;if(c===Ye.ReturnStatement)return(null==t?void 0:t.constructor)===tn?ie(this.handle(u,null,n)):this.handle(u,null,n);if(c===Ye.BreakStatement)return this.handle(u,null,n);if(c===Ye.ContinueStatement)return this.handle(u,null,n);var f=this.handle(u,null,n);if(Array.isArray(f)&&["return","break","continue"].includes(f[1]))return(null==t?void 0:t.constructor)===tn?f[0]:f}break;case Ye.VariableDeclaration:var p=e.declarations,m=e.kind;p.forEach((function(e){return r.handle(e,m,n)}));break;case Ye.VariableDeclarator:var d=e.id,y=e.init,v=d.name;if(n.has(v))h(SyntaxError,"Identifier '".concat(d.name,"' has already been declared"),d.source,d.location);else if("def"===t){var g,b;if(y)g=(null===(b=g=ie(this.handle(y,null,n)))||void 0===b?void 0:b.__type__)===un.Literal?g.value:g;else g=null;n.setCur(v,new fn(!1,g))}else if(y){var E,S=ie(this.handle(y,null,n));S=(null===(E=S)||void 0===E?void 0:E.__type__)===un.Literal?S.value:S,n.setCur(v,new fn(!0,S))}else h(SyntaxError,"Missing initializer in read declaration",e.source,e.location);break;case Ye.Identifier:var x=n.get(e.name);if(x)return x;h(ReferenceError,"'".concat(e.name,"' is not defined"),e.source,e.location);case Ye.Literal:return e.value;case Ye.ExpressionStatement:var _=e.expression;return this.handle(_,null,n);case Ye.BinaryExpression:var T=e.left,k=e.operator,w=e.right;switch(k){case"+":return ie(mn(this.handle(T,null,n)))+ie(mn(this.handle(w,null,n)));case"-":return ie(mn(this.handle(T,null,n)))-ie(mn(this.handle(w,null,n)));case"*":return ie(mn(this.handle(T,null,n)))*ie(mn(this.handle(w,null,n)));case"/":return ie(mn(this.handle(T,null,n)))/ie(mn(this.handle(w,null,n)));case"%":return ie(mn(this.handle(T,null,n)))%ie(mn(this.handle(w,null,n)));case">":return ie(mn(this.handle(T,null,n)))>ie(mn(this.handle(w,null,n)));case">=":return ie(mn(this.handle(T,null,n)))>=ie(mn(this.handle(w,null,n)));case"<":return ie(mn(this.handle(T,null,n)))<ie(mn(this.handle(w,null,n)));case"<=":return ie(mn(this.handle(T,null,n)))<=ie(mn(this.handle(w,null,n)));case"==":return ie(mn(this.handle(T,null,n)))===ie(mn(this.handle(w,null,n)))}case Ye.LogicalExpression:var B=e.left,A=e.operator,F=e.right;switch(A){case"and":return ie(mn(this.handle(B,null,n)))&&ie(mn(this.handle(F,null,n)));case"or":return ie(mn(this.handle(B,null,n)))||ie(mn(this.handle(F,null,n)))}case Ye.UnaryExpression:var $=e.operator,O=e.argument;switch($){case"+":return+ie(mn(this.handle(O,null,n)));case"-":return-ie(mn(this.handle(O,null,n)));case"not":return!ie(mn(this.handle(O,null,n)))}case Ye.AssignmentExpression:var C=e.left,P=e.right,j=C.name,I=n.get(j);if(I){if(I.__type__===un.Function&&h(TypeError,"Function is not variable",e.source,e.location),I.__type__===un.Literal)if(I.isRead)h(TypeError,"Assignment to constant variable",e.source,e.location);else{var q,L=ie(this.handle(P,null,n));L=(null===(q=L)||void 0===q?void 0:q.__type__)===un.Literal?L.value:L,I.value=L}}else h(SyntaxError,"Identifier '".concat(identifier.name,"' is not declared"),identifier.source,identifier.location);break;case Ye.FunctionDeclaration:var D=e.id,M=e.params,R=e.body,W=D.name,U=new Set;if(M.some((function(e){U.has(e.name)?h(SyntaxError,"Identifier not repeatable params: ".concat(e.name),e.source,e.location):U.add(e.name)})),!n.has(W))return n.set(W,new pn(W,M,R,new tn(n))),n.get(W);h(SyntaxError,"Identifier '".concat(W,"' has already been declared"),D.source,D.location);break;case Ye.CallExpression:var V,N=e.callee,z=e.arguments,G=this.handle(N,null,n);if(G.__type__===un.SystemFunction)return G.fn.apply(null,[z.map((function(e){return r.handle(e,null,n)})),e,n]);if(G.__type__===un.Literal&&(G=G.value),[un.Function,un.SystemFunction].includes(null===(V=G)||void 0===V?void 0:V.__type__)||h(TypeError,"".concat(N.name," is not a function"),N.source,N.location),G.__type__===un.SystemFunction)return G.fn.apply(null,[z.map((function(e){return r.handle(e,null,n)})),e,n]);G.params.forEach((function(e,t){if(null==z[t])G.scope.setCur(e,new fn(!1,null));else{var a,i=r.handle(z[t],null,n);if(i.__type__)if(i.__type__===un.Literal)a=new fn(!1,i.value);else a=i;else a=new fn(!1,i);G.scope.setCur(e,a)}}));var H=this.handle(G.body,G.scope,G.scope);return G.scope.clear(),ie(H);case Ye.ReturnStatement:var Y=e.argument;return[Y?ie(this.handle(Y,null,n)):null,"return"];case Ye.BreakStatement:var J=e.argument;return[J?ie(this.handle(J,null,n)):null,"break"];case Ye.ContinueStatement:var K=e.argument;return[K?ie(this.handle(K,null,n)):null,"continue"];case Ye.IfStatement:return mn(this.handle(e.test,null,n))?this.handle(e.consequent,null,n):e.alternate?this.handle(e.alternate,null,n):null;case Ye.WhileStatement:for(;mn(this.handle(e.test,null,n));){var Q=this.handle(e.body,null,n);if(Array.isArray(Q)){if("break"===Q[1])return Q[0];if("return"===Q[1])return Q;if("continue"===Q[1])continue}}if(e.alternate)return this.handle(e.alternate,null,n);break;case Ye.ForStatement:var X=e.init,Z=e.test,ee=e.update,te=e.body,ne=e.alternate,re=new tn(n);for(X&&this.handle(X,null,re);!Z||mn(this.handle(Z,null,re));){var ae=this.handle(te,null,re);if(ee&&this.handle(ee,null,re),Array.isArray(ae)){if("break"===ae[1])return ae[0];if("return"===ae[1])return ae;if("continue"===ae[1])continue}}if(ne)return this.handle(ne,null,n)}function ie(e){return Array.isArray(e)?e[0]:e}}}]),e}();const vn=yn})(),r})()));
//# sourceMappingURL=hs.min.js.map